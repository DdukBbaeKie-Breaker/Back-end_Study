# MSA



[https://velog.io/@tedigom/MSA-%EC%A0%9C%EB%8C%80%EB%A1%9C-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0-1-MSA%EC%9D%98-%EA%B8%B0%EB%B3%B8-%EA%B0%9C%EB%85%90-3sk28yrv0e](https://velog.io/@tedigom/MSA-제대로-이해하기-1-MSA의-기본-개념-3sk28yrv0e)

일단 이분의 블로그를 보면서 나만의 방식으로 공부했다.  내용이 비슷할 것이기에 좀더 공부하고 싶다면 들어가서 보길 바란다.

___

님들은 __MSA__ 가 뭘 하는 거라고 생각함? 막 찾아보면 __마이크로 서비스 아키텍처__라면서 

_독립적으로 배포 가능한 각각의 기능을 수행하는 서비스로 구성된 프레임워크_  막이러고 알아먹질 

모르는 말만 하고 어려웠죠? 제가 그랬으니까 그랬다고 해요. 간단하게 말하자면 블록이라고 

생각하자. 블록을 계속 이어붙여 큰 결과물을 만드는 것 이걸 MSA라고 말할 수 있다고 생각한다.

이걸 기술에 빗댄다면 하나의 큰 어플리케이션을 쪼개어 수정과 조합이 가능하게 만든 아키텍쳐이다.

___

#### 과거 

MSA를 보기전 우리는 과거를 알 필요가 있다. 우리가 어떻게 개발을 해왔는가?! 

- Monolithic Architecture : 소프트웨어의 모든 구성요소가 한 프로젝트의 통합되어있는 형태!

??? : 이것보다 좋은게 있나요? 훨씬 편해보이고 유지보수가 좋아보이는데 왜?? 

이런 질문이 왔다. 저 말은 틀리지 않았다. 하지만 __Monolithic Architecture__는 소규모 프로젝트에서 

편하다. 하지만 겁~나게 큰 프로젝트라면 이야기가 달라진다. 내가 이유를 설명해 주겠다.



1. 서비스 or 프로젝트가 커지면 커질수록 코드가 많아지기 때문에 시스템 구조의 파악이 어려워진다.

2. 빌드와 테스트 시간 그리고 배포시간이 늘어나게 됩니다.

3. 한쪽 서비스가 장애를 이르키면 모든 서비스가 장애를 이르키기도 합니다.

   

이러한 이유로 거대한 프로젝트는 MSA를 많이 쓰는 편입니다.



___

#### 정의

자 이제 정의를 내려보자 이 MSA친구는 간단하게 정의해보자. 이친구는 하나가 전체이자 

전체가 하나인 그런 개념인데 거기서 조금 나아가서 __스스로 돌아가는 작은 서비스__와

__독립적 배포 ㅆ가능__ 이게 추가가 된 그런거다.



그럼 헤깔리는 것이 생긴다.  어 저 아키텍쳐도 MSA 아닐까? 이런식의 의문이 생긴다. 

그렇다고 하자. 내가 그런거면 님들도 그런거다!!!@!@!ㅠㅠ

- 각각의 서비스는 크기작 축소될뿐, 하나하나가 모놀틱 아키텍쳐와 유사한 구조다.
- 각각의 서비스는 독립적 배포가 가능해야한다.
- 각각의 서비스는 다른 서비스에 대한 의존성이 최소화어야 한다.
- 각각의 서비스는 개별 프로세스로 REST와 같은 가벼운 방식이어야한다.



이것들의 조건이 맞아야 MSA라고 불린다.



___

#### 장단점

??? : 우와!! 그럼 MSA만 써야지?  방금까지 이런 생각한 사람이 있다면 안탑깝지만 그정도로 

만능은 아니다. MSA는 Monolithic Architecture의 문제점들을 보안해주는 것이지 막 모든것을

해결해주는 그런건 아니다.



__장점__ 

- 배포
  - 서비스별 배포가 가능하다. 
    - 요구사항을 신속하게 빠르게 배포할 수 있다.
- 장애
  - 하나의 서비스가 마비가 되더라도 서비스 전체가 마비가 될 일은 없다.
    - 부분적 장애에 대한 격리가 수월하다.



이외에도, 신기술의 적용이 유연하다 등 여러 장점이 있다.



__단점__

- 비용
  - 서비스마다 호출을 하기 때문에  통신 비용이 호출하는 수많큼 늘어나게 된다.
- 테스트/트랜잭션 
  - 서비스가 분리되어 있기에 테스트와 트랜잭션의 복잡도가 증가하고, 많은 자원을 필요로 한다.
- 데이터 관리
  - 데이터가 여러 서비스에 걸쳐 분산되기 때문에 한번에 조회하기 어렵고, 관리또한 어렵다.

___

오늘은 MSA에 대해 공부해봤다. 공부하기가 너무 어려웠는데 이분의 블로그가 가뭄의 단비처럼 

나에게 온거 같다. 다들 한번씩 보길 바란다.
