# OSI 7계층

osi 7계층은 지금까지 상식으로 알고 지냈기 때문에 따로 정리할 생각이 없었다. 하지만 개발자를 지망하는 여러 친구들을 보고 OSI 7계층의 상식이 필요하다는 것을 느꼈다. 그렇기에 이번에는 개념을 잡는 식을 정리를 해볼 예정이다(?).

___

#### 이름

OSI __7__ 계층 이름 그대로 7개로 분할되어 있다. 

- 물리 계층
- 데이터 링크 계층
- 네트워크 계층
- 전송 계층
- 세션 계층
- 표현 계층
- 응용 계칭

7개의 이름을 외우는데 대표적인 방법은 __물-데-네-전-세-표-응__ 이렇게 외우는게 일반적이다. 앞글자가 다르기 때문에 쉽게 외울 수 있다.

___

#### 내용

각각의 계층마다 하는일은 엄청나게 많다. 하지만 난 길을 잡아주는 역할이기 때문에 더욱더 자세하게는 알려주지 않을 것이다. 그렇기에 기본적으로 중요하다는 계층 몇개만 정리 하겠다.



- __3계층 네트워크계층__   -> 대표적인 프로토콜에는 IP, ICMP, IGMP 등이 있다. 이중 가장 많이 알고 있는 것은 IP이다. 하드웨어 장비로는 라우터가 있으며, 네트워크 전송 단위는 Packet이다.
- 3계층은 패킷이 시작하는 시점에서 목적지까지 안전하게 전달하도록 한다.
  - IP는 컴퓨터의 고유번호이다. 세상에는 수 많은 컴퓨터가 존재한다. 많은 컴퓨터들중 데이터를 전송하는데 명확한 목적지가 필요하다. 명확한 목적지는 IP 즉 컴퓨터의 고유번호이다.



- __4계층 전송계층__  ->  대표적인 프로토콜에는 TCP, UDP가 있다. 4계층에서는 최종 시스템 및 호스트 간의 데이터 전송 조율을 담당한다 보낼 데이터의 용량과 속도, 목적지 등을 처리한다. 
- 데이터를 안전하게 정확하게보내기 위한 계층이라고 생각하시면 편합니다.
  - TCP는 정확한 데이터를 전솧하는 것이 목적
  - UDP는 정확한 데이터보단 빠른 전송을 둔 것이 목적

좀더 내려가서 TCP와 UDP를 좀더 자세하게 이해하기 쉽게 설명하겠습니다.

___

#### 좀더 깊숙하게

블로그를 찾는 도중 초보자가 이해하기 쉬운 내용이 있어 가져와봤습니다.

각 프로토콜의 차이를 예시로 표현해보자면, **"TCP"** 는 아파트의 각 호실마다 **직접 찾아가 택배물을 배달하고 주인에게 사인 받는 것** 이고, **"UDP"** 는 아파트 **경비실에 모든 택배물을 두고 가버리는 것**과 같습니다.

실제로 **"TCP"** 통신에는 **"3-way-handshake"** 라는 세 과정이 필요합니다.
먼저 데이터를 전송하기 전에 **3가지의 확인과정(악수)를 한 다음**에 **데이터를 전송**하는 것이죠. 

택배원이 각 건물의 **호실(IP)** 로 찾아가 문을 두들기는 (****요청, SYN)** , 그리고 집 주인이 대답하고 **(대답, ACK),** 집주인이 "누구죠?"하고 물어보면**(요청, SYN) **하면, 택배원이 "네 xxx가 xxx씨에게 보낸 택배 입니다!"하며 ** (대답, ACK)** 서로 **안전을 확인한 뒤** 문을 열고 택배를 받는(데이터전송) 장면을 말이죠.

이렇듯 **"TCP"** 는 "3-way-handshake" 라는 과정 때문에 **다소 시간이 많이 걸립니다만**, 데이터 복구 기능이 있어 안전하게 **데이터를 확실하게 받을 수 있다는 장점이 있습니다.**



**반면** **"UDP"** 통신은 스위치(라우터)의 **"브로드캐스트 주소 **(경비실)** "** 에 그냥 **데이터** (주소가 적힌 택배물)** 를 보내버립니다.** 그러면 모든 컴퓨터들이 UDP 브로드캐스트를 받아본 다음 자기에게 온 것이면 받고, 아니면 걍 무시해버립니다.

그리고 이런 경우 실제에서와 마찬가지로, 택배물이 유실되거나 도둑맞아도 택배원은 책임이 없습니다. 

이렇듯 **"UDP"** 를 사용하면 3가지 과정이 필요한 TCP랑 비교해서 **매우매우 빠른 통신이 가능** 합니다. 하지만, 브로드캐스트를 뿌리는 과정으로 제대로 목적지로 전달이 됐는지 보장을 못해 **안전성이 낮습니다.**(목적지에 제대로 전달이 됐는지도 모르니까요.)

그래서 **신뢰성과 안전성이 중요한** **작업**의 애플리케이션(응용 프로그램)에선 **"TCP통신"** 을 사용하고, **동영상과 같이 빠른 데이터 전송이 필요한 경우**엔 **"UDP통신"** 을 사용합니다.



**"IP + TCP"** : 집주소 + 직접 택배물을 받겠습니다.
**"IP + UDP"** : 집주소 + 택배물은 경비실에 놔주세요.

___



#### Port?

**"포트 번호(Port number)"** 란 **컴퓨터의 어느 애플리케이션(응용프로그램)에게 데이터를 전달할지를 알려주는 번호**입니다.

이렇게만 말하면 이해가 안 될테니, **"포트 번호"란** 예시를 들었던 택배물 송장에 써있는 "**받는 사람"** 과 같다고 생각하시면 됩니다.

___

#### 결론

총 7개의 계층중 전 2가지 그것도 겉 부분 개념만 설명을 했습니다. 나머지는 공부를 하다보면 스스로 구글링을 하게 될 것이고, 더욱더 깊숙하게 알게 될 것입니다. 수고하셨습니다.

참고 링크 https://mamu2830.blogspot.com/2020/06/osi-7.html

